<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QR Code</title>
    <link href="css/main.css" rel="stylesheet" />
</head>
<body class="m-0 p-0 font-system bg-crypto-dark flex justify-center items-start min-h-screen">

<div class="text-white w-full max-w-crypto px-5 mt-100 flex flex-col items-center gap-8 relative md:mt-120 lg:max-w-lg">
    <!-- Dropdown для выбора сети -->
    <div class="dropdown relative inline-block w-full max-w-crypto mb-5">
        <button
                class="bg-crypto-card text-white p-4 text-base font-semibold border-2 border-crypto-border rounded-2xl w-full text-left flex justify-between items-center box-border cursor-pointer outline-none transition-all duration-200 hover:bg-crypto-border hover:border-crypto-border-hover focus:border-crypto-focus md:p-5 md:text-lg"
                id="dropdownBtn"
        >
            Выбери сеть
            <span class="text-xs transition-transform duration-300 text-crypto-text-muted dropbtn-arrow">▼</span>
        </button>
        <div
                class="dropdown-content hidden absolute bg-crypto-card min-w-full shadow-crypto-lg rounded-2xl z-10 top-full mt-2 left-0 overflow-hidden border-2 border-crypto-border"
                id="dropdownContent"
        >
            <div class="text-white p-4 no-underline block cursor-pointer text-base font-semibold transition-colors duration-200 hover:bg-crypto-border active:bg-crypto-border-hover md:p-5 md:text-lg dropdown-item" data-network="solana">
                Solana
            </div>
        </div>
    </div>

    <!-- Выбор монеты -->
    <div id="coinSelector" class="hidden w-full flex-col gap-0">
        <div class="coin-item flex items-center py-4 text-crypto-text-muted text-base font-semibold cursor-pointer transition-colors duration-200 border-b border-crypto-border border-opacity-30 relative hover:text-white last:border-b-0 md:py-5 md:text-lg" data-coin="SOL">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-sol-gradient-from to-sol-gradient-to mr-4 flex-shrink-0 md:w-10 md:h-10 md:mr-5"></div>
            SOL
        </div>
        <div class="coin-item flex items-center py-4 text-crypto-text-muted text-base font-semibold cursor-pointer transition-colors duration-200 border-b border-crypto-border border-opacity-30 relative hover:text-white last:border-b-0 md:py-5 md:text-lg" data-coin="USDC">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-usdc-gradient-from to-usdc-gradient-to mr-4 flex-shrink-0 md:w-10 md:h-10 md:mr-5"></div>
            USDC
        </div>
    </div>

    <!-- Ввод суммы -->
    <div id="amountSection" class="hidden w-full">
        <input
                type="number"
                id="amountInput"
                placeholder="Введите сумму"
                class="w-full p-4 text-base font-semibold border-2 border-crypto-border rounded-2xl bg-crypto-card text-white box-border outline-none mb-3 appearance-none hover:border-crypto-border-hover focus:border-crypto-focus placeholder:text-crypto-text-muted md:p-5 md:text-lg [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
                style="-moz-appearance: textfield;"
        >
        <button
                id="generateBtn"
                class="bg-crypto-dark text-white py-4 px-8 border-none rounded-2xl text-base font-semibold cursor-pointer shadow-crypto transition-colors duration-200 hover:bg-crypto-border w-full md:py-5 md:text-lg"
        >
            Сгенерировать QR
        </button>
    </div>

    <!-- QR Code контейнер -->
    <div id="qrcode" class="qrcode-container hidden relative flex-col justify-center items-center my-10 min-h-64 rounded-2xl bg-crypto-card border-2 border-crypto-border p-5 md:min-h-72 md:p-6">
        <div id="paymentInfo" class="payment-info absolute -top-8 bg-crypto-dark py-3 px-5 rounded-xl border-2 border-crypto-border text-center whitespace-nowrap max-w-full overflow-hidden text-ellipsis z-10 md:-top-6 md:py-2 md:px-4">
            <!-- Информация о платеже будет добавлена через JS -->
        </div>
        <!-- QR-код будет добавлен через JS -->
    </div>

    <!-- Кнопка назад -->
    <div class="fixed bottom-10 left-1/2 transform -translate-x-1/2 w-full max-w-crypto flex flex-col gap-4 px-5 md:relative md:bottom-auto md:left-auto md:transform-none md:mt-8">
        <button
                id="backBtn"
                type="button"
                class="bg-crypto-dark text-white py-4 px-8 border-none rounded-2xl text-base font-semibold cursor-pointer shadow-crypto transition-colors duration-200 hover:bg-crypto-border md:py-5 md:text-lg"
        >
            Назад
        </button>
    </div>
</div>

<script type="module" src="typescript/TransactionSetup.ts"></script>
</body>
</html>